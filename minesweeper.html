<!doctype html>
<head>
    <script type="text/javascript" src="lib/jquery.min.js"></script>
    <script type="text/javascript" src="lib/ember-0.9.4.min.js"></script>
    <link rel="stylesheet" href="css/minesweeper.css" type="text/css" />
</head>
<body>
    <h1>minesweeper</h1>
    <script type="text/x-handlebars" data-template-name="board-view">
        {{view Ember.Select
                contentBinding="Minesweeper.minesweeperController.sizes"
                selectionBinding="Minesweeper.minesweeperController.newBoardSize"
                optionLabelPath="content.name"
                optionValuePath="content.size"}}
        {{view Ember.Select
                contentBinding="Minesweeper.minesweeperController.difficulties"
                selectionBinding="Minesweeper.minesweeperController.newBoardDifficulty"
                optionLabelPath="content.name"
                optionValuePath="content.difficulty"}}
        {{#view Em.Button
                target="Minesweeper.minesweeperController"
                action="newGame"}}
        New Game
        {{/view}}
        <div class="status">{{board.gameState}}</div> 
        <div class="buttons">
            {{#view Em.Button
                    target="Minesweeper.minesweeperController"
                    action="toggleCheat"}}
            Toggle Cheat
            {{/view}}
            {{#view Em.Button
                    target="Minesweeper.minesweeperController"
                    action="validate"}}
            Validate
            {{/view}}
        </div>
        <div class="board">
            {{#each tileArray}}
            <div class="row" oncontextmenu="javascript:return false;">
                {{#each this}}
                    {{#view Minesweeper.TileView tileBinding="this" classBinding="tileCommonStyle tileStyle"}}
                    {{/view}}
                {{/each}}
            </div>
            {{/each}}
        </div>
        <div>To Flag: {{board.bombsLeftToFlag}}</div>
    </script>
    <script src="js/minesweeper.js"></script>
</body>
</html>
